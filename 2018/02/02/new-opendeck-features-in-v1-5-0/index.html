<!DOCTYPE html > <html lang="en-US"> <!-- Site Head --> <head> <meta charset="utf-8"> <title>Shantea Controls &#8226 New OpenDeck features in v1.5.0</title> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="shortcut icon" href="/images/favicon.png" title="Favicon"> <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet"> <!-- Importing Styles --> <link rel="stylesheet" href="/css/style.css"> <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.1.7/css/lightgallery-bundle.min.css"> <style> .markdown-body {
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }
  
    @media (max-width: 767px) {
      .markdown-body {
        padding: 15px;
      }
    } </style> </head> <body> <!-- Page Loader --> <div id="page-loader" class="page-loader"><span class="load-icon"></span></div> <!-- Site Header --> <header class="site-header blog-header parallax" id="home" data-scrollax-parent="true"> <!-- Parallax Header Image --> <div class="parallax-wrapper"> <div class="cover" data-scrollax="properties: { 'translateY': '48%' }"> <img style="min-width: 100%;" src="/images/blog/header.jpg"> </div> </div> <div class="container"> <!-- Site Navigation Bar --> <div class="row site-navigation-bar parent"> <!-- Logo --> <div class="col-sm-2 col-xs-4 logo child-center-v"> <a href="/index.html"><img src="/images/logo_notext.svg" width="70"></a> </div> <!-- Toggle Mobile Menu --> <div class="col-xs-8 toggle-menu child-center-v"> <!-- Burger --> <div class="navTrigger"> <i></i><i></i><i></i> </div> </div> <!-- Navigation Bar --> <div class="col-sm-10 col-xs-12 navigation-bar child-center-v"> <!-- Navigation Menu --> <nav id="navMenu" class="nav-menu"> <ul class="menu"> <li><a href="/#about">ABOUT</a></li> <li><a href="/#features">FEATURES</a></li> <li><a href="/#parallax-features">SPECS</a></li> <li><a href="/#portfolio">GALLERY</a></li> <li><a href="/#testimonials">TESTIMONIALS</a></li> <li class="current-menu-item"><a href="/blog">BLOG</a></li> <li><a href="/#boards">BOARDS</a></li> <li><a href="/#contact">CONTACT</a></li> </ul> </nav> </div> </div> <!-- Site Header Banner --> <div class="row header-banner parent" data-scrollax="properties: { 'translateY': '48%', 'opacity': '1.4' }"> <div class="heading-content text-center child-center-v"> <!-- Heading Title --> <div class="row heading-title"> <h2>Shantea Controls</h2> <hr class="small"> <h1 class="thin">New OpenDeck features in v1.5.0</h1> </div> </div> </div> </div> </header> <!-- Page Section --> <section class="site-section blog-section page-layout" id="start"> <div class="container"> <!-- Page Layout --> <div class="row"> <!-- Sidebar --> <div class="col-md-4 hidden-xs hidden-sm"> <!-- Site Sidebar --> <aside class="site-sidebar"> <!-- Categories Widget --> <div class="widget categories-widget"> <!-- Widget Header --> <header class="widget-header"> <h4 class="widget-title">Categories</h4> </header> <!-- Widget Content --> <div class="widget-content"> <ul class="categories-box"> <li><a href="/category/info">info <span class="cat-count">9</span></a></li> <li><a href="/category/design">design <span class="cat-count">7</span></a></li> <li><a href="/category/build-log">build-log <span class="cat-count">9</span></a></li> <li><a href="/category/development">development <span class="cat-count">21</span></a></li> <li><a href="/category/programming">programming <span class="cat-count">5</span></a></li> </ul> </div> </div> </aside> </div> <!-- Content --> <div class="col-md-8 blog-articles-container"> <!-- Blog Article --> <div class="post-full"> <article class="blog-article blog-single-page clearfix"> <!-- Article Header --> <!-- Article Content --> <article class="markdown-body"> <p>Last time I talked about features in OpenDeck was, well, long time ago. I have released OpenDeck <a href="https://github.com/shanteacontrols/OpenDeck/releases/tag/v1.5.0">firmware v1.5.0</a> so it’s time to fix this!</p> <h2 id="nrpn">NRPN</h2> <p>Many people have been asking me about NRPN support on OpenDeck. I’ve never used it, so I haven’t implemented it before, but now OpenDeck official supports it. For those who don’t know, NRPN stands for <em>Non-registered Part Number</em>. Behind this cryptic acronym lies solution to a problem which is very specific to how MIDI operates. Since MIDI is actually 7-bit protocol, that is, each MIDI message is composed of bytes containing values 0-127, there isn’t much room left for user-defined CC messages, many of them being <a href="http://nickfever.com/music/midi-cc-list">already mapped to specific task</a> by MIDI specification. So, even though CC message IDs can range 0-127, in reality you can have much less if your software or controller is hardcoded to respond to specific CCs. NPRN solves this problem by doubling CC resolution to 14-bit. Now, instead of only 127 CC IDs, you can map your CC up to 16383. That’s ridiculously large. Drawback to this is that instead of sending single MIDI message for CC, three messages are needed to send NRPN message, so MIDI traffic is much larger. This can become obstacle on older MIDI gear, but in practice you really shouldn’t have any problems with it. As an example, I’ll illustrate the difference between sending MIDI CC and NRPN message.</p> <p>Standard CC message:</p> <ul> <li>CC ID, CC value, channel</li> </ul> <p>NPRN message:</p> <ul> <li>CC 99, upper 7-bits of wanted ID (MSB), channel</li> <li>CC 98, lower 7-bits of wanted ID (LSB), channel</li> <li>CC 6, value, channel</li> </ul> <p>There’s a bit of bit-shifting involved to convert 14-bit number to two 7-bit values.</p> <p>But wait! There’s more! Not only does NRPN double the resolution of CC IDs, it can also double the resolution of control value itself. This way, you can send very precise values from potentiometers, pressure sensors etc.. This NPRN message is very similar to 3-byte one, with one minor difference:</p> <ul> <li>CC 99, upper 7-bits of wanted ID (MSB), channel</li> <li>CC 98, lower 7-bits of wanted ID (LSB), channel</li> <li>CC 6, upper 7-bits of value (MSB), channel</li> <li>CC 38, lower 7-bits of value (LSB), channel</li> </ul> <p>To configure NRPN, simply select NPRN 7-bit or NPRN 14-bit in Web interface:</p> <p><img src="/images/blog/ed7e6-webui_nrpn_7bit.png" alt=""></p> <p><img src="/images/blog/59fda-webui_nrpn_14bit.png" alt=""></p> <p>Notice how interface displays additional info depending on selected option.</p> <h2 id="buttons">Buttons</h2> <p>Buttons can now be mapped to additional MIDI messages:</p> <p><img src="/images/blog/f3fe7-webui_buttons_msg_types.png" alt=""></p> <p>These messages can be really handy when controlling MIDI gear. Also, notice the “CC” and “CC/0 off” messages. First one is used when you only want to send CC messages from buttons once button has been pressed. On release, nothing happens. Second one (0 off) is similar, but the difference is that buttons will send same CC ID on release with value 0. This option also depends on button type (momentary or latching), so there’s actually lot of possibilities.</p> <p>On the bottom you can also notice something new - “On velocity”. With this option you can select velocity which button sends on press. This used to be hardcoded to value 127. Note that if buttons are configured to send CC messages, “On velocity” becomes CC value.</p> <h2 id="leds">LEDs</h2> <p>I have added a new parameter to LED configuration - activation velocity.</p> <p><img src="/images/blog/05206-webui_leds_act_vel.png" alt=""></p> <p>This option is used only for single-color LEDs and you can define which velocity will turn the LED on. For RGB LEDs, <a href="https://github.com/shanteacontrols/OpenDeck/wiki/LED-control">velocity-table</a> is used as before.</p> <h2 id="version-info">Version info</h2> <p>Since I added <a href="https://shanteacontrols.com/2017/12/14/opendeck-on-arduino/">support for Arduino boards</a>, the info window now displays board name (variant) which is being used.</p> <p><img src="/images/blog/8c2b8-webui_version_info.png" alt=""></p> <p><img src="/images/blog/5e7ff-webui_version_info_2.png" alt=""></p> <h2 id="software-updating">Software updating</h2> <p>For now, updating the software is done using special mass-storage mode. Since it’s sometimes unstable, doesn’t work in Finder on Mac OS X and it’s quite large, I’ve replaced it with new, HID-based bootloader. This could or could not mean something to you, but the point here is that Chrome can access USB HID devices directly, just like USB MIDI devices, so soon, it will be possible to update the firmware directly from web interface. Stay tuned!</p> </article> <!-- Article Tool Boxes --> <div class="article-boxes"> <!-- Tags Box --> <div class="tags-article box"> <span class="title">Tags:</span> <ul class="tag-cloud-box box-content"> <li><a href="/tag/midi">midi</a></li> <li><a href="/tag/opendeck">opendeck</a></li> <li><a href="/tag/webmidi">webmidi</a></li> </ul> </div> </div> </article> </div> </div> </div> </div> </section> <!-- Site Footer --> <footer class="site-footer" id="footer"> <div class="container"> <div class="row"> <div class="col-md-6 col-md-push-3 footer-info text-center"> <div class="footer-logo"> <img src="/images/logo.svg" width="700"> </div> <div class="footer-info-text"> <p></p> </div> <div class="social-icons"> <ul class="icons"> <li><a href="https://youtube.com/shanteacontrols" target="_blank"><i class="fi flaticon-youtube"></i></a></li> <li><a href="https://www.facebook.com/shanteacontrolsmidi" target="_blank"><i class="fi flaticon-facebook"></i></a></li> </ul> </div> </div> <div class="col-md-8 col-md-push-2 footer-copyright"> <div class="footer-text text-center"> <p>All Rights Reserved</p> <p><a href="https://shanteacontrols.com/">Shantea Controls</a> &copy; 2022</p> </div> </div> </div> </div> </footer> <!-- Go To Top Button --> <a href="#home" class="go-to-top-button"><i class="pe-7s-angle-up"></i></a> <!-- Importing Scripts --> <!-- jQuery CDN --> <script src="//ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script> <!-- If CDN fails than use local jQuery --> <script>window.jQuery || document.write('<script src="/js/jquery-3.3.1.min.js"><\/script>')</script> <!-- Owl Carousel --> <script src="/js/carousel.min.js" charset="utf-8"></script> <!-- Parallaxing & SmoothScroll --> <script src="/js/scrollax.min.js" charset="utf-8"></script> <!-- Main JS --> <script src="/js/main.js" charset="utf-8"></script> <!-- LightGallery --> <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.1.7/lightgallery.umd.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.1.7/plugins/thumbnail/lg-thumbnail.umd.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.1.7/plugins/zoom/lg-zoom.umd.min.js"></script> <script type="text/javascript"> lightGallery(document.getElementById('gallery-container'), {
        plugins: [lgThumbnail],
        speed: 250,
        licenseKey: "xAIQA"
    });

    lightGallery(document.getElementById('board-container'), {
        plugins: [lgThumbnail],
        speed: 250,
        licenseKey: "xAIQA"
    }); </script> </body> </html> 