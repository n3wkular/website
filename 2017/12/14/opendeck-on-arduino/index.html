<!DOCTYPE html > <html lang="en-US"> <!-- Site Head --> <head> <meta charset="utf-8"> <title>Shantea Controls &#8226 OpenDeck on Arduino</title> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="shortcut icon" href="/images/favicon.png" title="Favicon"> <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet"> <!-- Importing Styles --> <link rel="stylesheet" href="/css/style.css"> <style> .markdown-body {
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }
  
    @media (max-width: 767px) {
      .markdown-body {
        padding: 15px;
      }
    } </style> </head> <body> <!-- Page Loader --> <div id="page-loader" class="page-loader"><span class="load-icon"></span></div> <!-- Site Header --> <header class="site-header blog-header parallax" id="home" data-scrollax-parent="true"> <!-- Parallax Header Image --> <div class="parallax-wrapper"> <div class="cover" data-scrollax="properties: { 'translateY': '48%' }"> <img style="min-width: 100%;" src="/images/blog/header.jpg"> </div> </div> <div class="container"> <!-- Site Navigation Bar --> <div class="row site-navigation-bar parent"> <!-- Logo --> <div class="col-sm-2 col-xs-4 logo child-center-v"> <a href="/index.html"><img src="/images/logo_notext.svg" width="70"></a> </div> <!-- Toggle Mobile Menu --> <div class="col-xs-8 toggle-menu child-center-v"> <!-- Burger --> <div class="navTrigger"> <i></i><i></i><i></i> </div> </div> <!-- Navigation Bar --> <div class="col-sm-10 col-xs-12 navigation-bar child-center-v"> <!-- Navigation Menu --> <nav id="navMenu" class="nav-menu"> <ul class="menu"> <li><a href="/#about">ABOUT</a></li> <li><a href="/#features">FEATURES</a></li> <li><a href="/#parallax-features">SPECS</a></li> <li><a href="/#portfolio">GALLERY</a></li> <li><a href="/#testimonials">TESTIMONIALS</a></li> <li class="current-menu-item"><a href="/blog">BLOG</a></li> <li><a href="/#prices">OFFERS</a></li> <li><a href="/#contact">CONTACT</a></li> </ul> </nav> </div> </div> <!-- Site Header Banner --> <div class="row header-banner parent" data-scrollax="properties: { 'translateY': '48%', 'opacity': '1.4' }"> <div class="heading-content text-center child-center-v"> <!-- Heading Title --> <div class="row heading-title"> <h2>Shantea Controls</h2> <hr class="small"> <h1 class="thin">OpenDeck on Arduino</h1> </div> </div> </div> </div> </header> <!-- Page Section --> <section class="site-section blog-section page-layout" id="start"> <div class="container"> <!-- Page Layout --> <div class="row"> <!-- Sidebar --> <div class="col-md-4 hidden-xs hidden-sm"> <!-- Site Sidebar --> <aside class="site-sidebar"> <!-- Categories Widget --> <div class="widget categories-widget"> <!-- Widget Header --> <header class="widget-header"> <h4 class="widget-title">Categories</h4> </header> <!-- Widget Content --> <div class="widget-content"> <ul class="categories-box"> <li><a href="/category/info">info <span class="cat-count">8</span></a></li> <li><a href="/category/design">design <span class="cat-count">7</span></a></li> <li><a href="/category/build-log">build-log <span class="cat-count">9</span></a></li> <li><a href="/category/development">development <span class="cat-count">20</span></a></li> <li><a href="/category/programming">programming <span class="cat-count">5</span></a></li> </ul> </div> </div> </aside> </div> <!-- Content --> <div class="col-md-8 blog-articles-container"> <!-- Blog Article --> <div class="post-full"> <article class="blog-article blog-single-page clearfix"> <!-- Article Header --> <!-- Article Content --> <article class="markdown-body"> <p>There’s an old saying which goes “if you can’t beat them - join them”. That kind of sums up latest OpenDeck development efforts.</p> <h2 id="selling-opendeck-boards">Selling OpenDeck boards</h2> <p>Selling pre-assembled OpenDeck boards turned out to be not-so-profitable business. Actually, I was losing money on it. Once I’ve added up all the ridiculous taxes, import fees, PayPal fees, shipment etc. it turned out everyone else is making money on me, and I was losing money in the process. Granted, I was ordering small amount of OpenDeck boards, and ordering small amount of PCBs is never quite cheap, however I can’t really order hundreds of boards at this moment since demand isn’t that high yet. Instead, I’ve came up with other tactic.</p> <h2 id="arduino">Arduino</h2> <p>Pretty much anyone involved in some kind of electronic DIY project owns at least one of the <a href="https://www.arduino.cc/en/Main/Boards">Arduino boards</a>. They are really cheap and good enough for most simple projects. One of those projects is often <a href="https://trends.google.com/trends/explore?q=arduino%20midi">building a MIDI controller</a>. So, how do people build MIDI controllers with Arduino? That’s actually not so simple task. Arduino doesn’t have easy to use USB MIDI support unless you code it yourself. You need to be a decent programmer to write MIDI controller software. You need to debug problems more often than not. All things considered, building MIDI controller with Arduino can quickly become a daunting task. There is, however, an alternative.</p> <h2 id="opendeck-software--arduino-hardware">OpenDeck software + Arduino hardware</h2> <p>OpenDeck is <a href="https://ask.audio/articles/review-shantea-controls-opendeck-custom-midi-controller-platform">really simple to use</a>. Plug in the board to PC, PC immediately recognises new USB MIDI device and you’re pretty much good to go. Thing is, you need OpenDeck board for this, and there aren’t really that many boards around. What if you could run OpenDeck software on Arduino instead? Well, that’s exactly what I’ve done.</p> <h3 id="arduino-leonardo-and-pro-micro">Arduino Leonardo and Pro Micro</h3> <p>First I’ve started with Arduino Leonardo and Pro Micro boards. They actually use exactly the same microcontroller as official OpenDeck boards - Atmel ATmega32u4. Making OpenDeck run on these boards was a simple matter of correctly defining pin addresses in firmware and I was good to go.</p> <p><img src="/images/blog/7230d-23800061_723673337825909_7076454715108837225_o.jpg" alt=""></p> <h3 id="arduino-uno-and-mega2560">Arduino Uno and Mega2560</h3> <p>Getting OpenDeck to run on these boards was a bit more complex. In case you’re not familiar, these boards actually come with two microcontrollers on board - one main MCU, for which you actually write software (for Uno that is ATmega328 and for Mega that is ATmega2560) and other one (ATmega16u2) which actually serves as USB interface between your PC and main MCU on Arduino board. This MCU enumerates as Virtual COM port on PC, so, when you program the Arduino or read serial input from it, this MCU acts like a gateway between main MCU and your PC. The good thing about this is that Arduino boards actually have header on board which you can use to program this MCU, so, I’ve programmed it to act like a USB MIDI hardware. Entire communication process between PC and Arduino boards running OpenDeck software is really similar to original solution: all MIDI data sent from PC to Arduino first goes to ATmega16u2 MCU which then simply passes that same data to main Arduino MCU using serial link (also vice-versa), just like before.</p> <p><img src="http://46.101.124.26/wp-content/uploads/2017/12/24210352_727052300821346_3201283979179968047_o.jpg" alt=""></p> <h2 id="outcome">Outcome</h2> <p>Now, Arduino Micro, Leonardo, Uno and Mega2560 can all run OpenDeck software. Plug your reprogrammed Arduino into PC, and PC recognises it as class-compliant USB MIDI device. Also, <a href="https://config.shanteacontrols.com/">OpenDeck configurator</a> recognises the board immediately and you can start configuring your brand new Arduino/OpenDeck board, just like with the official setup. The same I/O pins that you use on Arduino boards are used in OpenDeck firmware, so supported number of components is same as in original Arduino boards.</p> <h2 id="availability">Availability</h2> <p>To get OpenDeck on Arduino, there are three options:</p> <ol> <li>Buy pre-configured Arduino board directly from me. This saves you a lot of hassle with compiling and uploading the code to Arduino (you will also need AVR programmer such as <a href="http://www.fischl.de/usbasp/">USBasp</a> or <a href="http://www.atmel.com/tools/avrispmkii.aspx">AVRISP mkII</a>). The pricing for this option is listed on my new <a href="https://shanteacontrols.wpcomstaging.com/">website.</a></li> <li>Buy pre-compiled firmware and upload it to Arduino yourself. If you already happen to have Arduino boards laying around together with AVR programmer, you can buy pre-compiled firmware from me for 20€.</li> <li>Download the source code from <a href="https://github.com/paradajz/OpenDeck">GitHub</a>, compile it and upload to Arduino yourself. This is for brave souls only - you will need Linux-based environment to compile the code, as well as familiarity with command-line tools.</li> </ol> <h2 id="future">Future</h2> <p>Based on interest, I plan to make OpenDeck available on more powerful ARM-based development boards, such as ST STM32 series. Also, plan is to add support for more complex components, such as OLED/LCD screens, accelerometers, gyroscopes and other more advanced sensors.</p> <h2 id="edit">EDIT:</h2> <p>As of OpenDeck v3.0.0 pre-compiled Arduino binaries are part of the <a href="https://github.com/paradajz/OpenDeck/releases">release on GitHub</a>. Also, pre-configured Arduino boards are now available on <a href="https://www.tindie.com/stores/paradajz/">Tindie</a>.</p> </article> <!-- Article Tool Boxes --> <div class="article-boxes"> <!-- Tags Box --> <div class="tags-article box"> <span class="title">Tags:</span> <ul class="tag-cloud-box box-content"> <li><a href="/tag/arduino">arduino</a></li> <li><a href="/tag/diy">diy</a></li> <li><a href="/tag/midi">midi</a></li> <li><a href="/tag/midi-controller">midi-controller</a></li> <li><a href="/tag/opendeck">opendeck</a></li> <li><a href="/tag/usb">usb</a></li> </ul> </div> <div id="hyvor-talk-view"></div> <script type="text/javascript"> var HYVOR_TALK_WEBSITE = 4484;
          var HYVOR_TALK_CONFIG = {
            url: 'https://shanteacontrols.com/2017/12/14/opendeck-on-arduino/',
            id: '/2017/12/14/opendeck-on-arduino/'
          }; </script> <script async type="text/javascript" src="//talk.hyvor.com/web-api/embed"></script> </div> </article> </div> </div> </div> </div> </section> <!-- Site Footer --> <footer class="site-footer" id="footer"> <div class="container"> <div class="row"> <div class="col-md-6 col-md-push-3 footer-info text-center"> <div class="footer-logo"> <img src="/images/logo.svg" width="700"> </div> <div class="footer-info-text"> <p></p> </div> <div class="social-icons"> <ul class="icons"> <li><a href="https://youtube.com/shanteacontrols" target="_blank"><i class="fi flaticon-youtube"></i></a></li> <li><a href="https://www.facebook.com/shanteacontrolsmidi" target="_blank"><i class="fi flaticon-facebook"></i></a></li> </ul> </div> </div> <div class="col-md-8 col-md-push-2 footer-copyright"> <div class="footer-text text-center"> <p>All Rights Reserved</p> <p><a href="https://shanteacontrols.com/">Shantea Controls</a> &copy; 2021</p> </div> </div> </div> </div> </footer> <!-- Go To Top Button --> <a href="#home" class="go-to-top-button"><i class="pe-7s-angle-up"></i></a> <!-- Importing Scripts --> <!-- jQuery CDN --> <script src="//ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script> <!-- If CDN fails than use local jQuery --> <script>window.jQuery || document.write('<script src="/js/jquery-3.0.0.min.js"><\/script>')</script> <!-- Owl Carousel --> <script src="/js/carousel.min.js" charset="utf-8"></script> <!-- Parallaxing & SmoothScroll --> <script src="/js/scrollax.min.js" charset="utf-8"></script> <!-- Main JS --> <script src="/js/main.js" charset="utf-8"></script> </body> </html> 